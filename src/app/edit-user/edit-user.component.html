<div>
    <div class="submit-form" [formGroup]="form">
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="text" class="form-control" id="email" [(ngModel)]="user.email"
                formControlName="email" name="email"
                [ngClass]="{ 'is-invalid': submitted && f['email'].errors }" />
            <div *ngIf="f['email'].errors" class="invalid-feedback">
                <div *ngIf="f['email'].errors && f['email'].errors['required']">Email is required</div>
                <div *ngIf="f['email'].errors && f['email'].errors['email']">Email is invalid</div>
            </div>
        </div>

        <div class="form-group">
            <label for="fullname">Full Name:</label>
            <input class="form-control" id="fullname" [(ngModel)]="user.fullname"
                formControlName="fullname" name="fullname"
                [ngClass]="{ 'is-invalid': submitted && f['fullname'].errors }" />
            <div *ngIf="f['fullname'].errors" class="invalid-feedback">
                <div *ngIf="f['fullname'].errors && f['fullname'].errors['required']">Fullname is required</div>
            </div>
        </div>

        <div class="form-group">
            <label for="gender">Gender:</label>
            <select class="form-control" id="gender" [(ngModel)]="user.gender" formControlName="gender"
                name="gender" [ngClass]="{ 'is-invalid': submitted && f['gender'].errors }">
                <option [value]="false" selected>Male</option>
                <option [value]="true">Female</option>
            </select>
            <div *ngIf="f['gender'].errors" class="invalid-feedback">
                <div *ngIf="f['gender'].errors && f['gender'].errors['required']">Gender is required</div>
            </div>
        </div>

        <div class="form-group">
            <label for="dob">Date of Birth:</label>
            <input class="form-control" id="dob" type="date" [(ngModel)]="user.dob"
                formControlName="dob" name="dob"
                [ngClass]="{ 'is-invalid': submitted && f['dob'].errors }" />
            <div *ngIf="f['dob'].errors" class="invalid-feedback">
                <div *ngIf="f['dob'].errors && f['dob'].errors['required']">Date of Birth is required</div>
            </div>
        </div>

        <div class="form-group">
            <label for="phone">Phone:</label>
            <input class="form-control" id="phone" [(ngModel)]="user.phone" formControlName="phone"
                name="phone" [ngClass]="{ 'is-invalid': submitted && f['phone'].errors }" />
            <div *ngIf="submitted && f['phone'].errors" class="invalid-feedback">
                <div *ngIf="f['phone'].errors['required']">Phone is required</div>
                <div *ngIf="f['phone'].errors && f['phone'].errors['pattern']">Phone is invalid</div>
            </div>
        </div>

        <div class="form-group">
            <label for="address">Address</label>
        </div>

        <div class="form-group">
            <label for="province">Province:</label>
            <select class="form-control" id="province" [(ngModel)]="user.province"
            formControlName="province" [ngClass]="{ 'is-invalid': submitted && f['province'].errors }">
                <option value="0" selected disabled>Select Province</option>
                <option *ngFor="let province of Provinces" value="{{province.code}}">{{province.name}}</option>
            </select>
            <div *ngIf="submitted && f['province'].errors" class="invalid-feedback">
                <div *ngIf="f['province'].errors['required']">Phone is required</div>
                <div *ngIf="f['province'].errors && f['province'].errors['pattern']">Province is invalid</div>
            </div>
        </div>

        <div class="form-group">
            <label for="district">District:</label>
            <select class="form-control" id="district" [(ngModel)]="user.district"
            formControlName="district" [ngClass]="{ 'is-invalid': submitted && f['district'].errors }">
                <option value="0" selected disabled>Select District</option>
                <ng-container *ngFor="let district of Districts">
                    <option *ngIf="district.province_code == user.province" value="{{district.code}}">{{district.name}}</option>
                </ng-container>
            </select>
            <div *ngIf="submitted && f['district'].errors" class="invalid-feedback">
                <div *ngIf="f['district'].errors['required']">Phone is required</div>
                <div *ngIf="f['district'].errors && f['district'].errors['pattern']">District is invalid</div>
            </div>
        </div>
        <div class="form-group">
            <label for="ward">Ward:</label>
            <select class="form-control" id="ward" [(ngModel)]="user.ward"
            formControlName="ward" [ngClass]="{ 'is-invalid': submitted && f['ward'].errors }">
                <option value="0" selected disabled>Select Ward</option>
                <ng-container *ngFor="let ward of Wards">
                    <option *ngIf="ward.district_code == user.district" value="{{ward.code}}">{{ward.name}}</option>
                </ng-container>
            </select>
            <div *ngIf="submitted && f['ward'].errors" class="invalid-feedback">
                <div *ngIf="f['ward'].errors['required']">Phone is required</div>
                <div *ngIf="f['ward'].errors && f['ward'].errors['pattern']">Ward is invalid</div>
            </div>
        </div>

        <button (click)="openDialog()" class="btn btn-success">Save</button>&nbsp;
        <button (click)="gotoList()" class="btn btn-danger">Cancel</button>
    </div>
</div>